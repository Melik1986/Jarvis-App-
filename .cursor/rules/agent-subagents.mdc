---
description: Индекс сабагентов для внутреннего агента Cursor — когда вызывать поиск в интернете, MCP/сторонние сервисы, и Beads+Ralph для управления задачами.
globs: []
alwaysApply: true
---

# Сабагенты внутреннего агента Cursor

Внутренний агент при работе **вызывает сабагенты** для задач, требующих внешних источников или автоматизации:

| Сабагент | Когда вызывать | Правило/Skill |
|----------|----------------|---------------|
| **Web Search** | Поиск в интернете: актуальные данные, факты, документация, проверка URL/ошибок | `web-search-subagent.mdc` — использовать инструмент поиска, не выдумывать. |
| **MCP / сторонние сервисы** | Работа с MCP, браузер, Supabase, n8n, Figma, Railway, Vercel, ECS, Context7, Linear, Playwright, Chrome DevTools | `mcp-tools-subagent.mdc` — перед вызовом читать схему инструмента. |
| **Beads + Ralph** | Управление задачами, планирование работы, автономное выполнение с учётом правил проекта | `beads-ralph.mdc`, skill `beads-ralph` — API `/api/beads/*` и `/api/ralph/*`. |

## Поведение агента

- Задача требует актуальной информации из сети → следовать **web-search-subagent**.
- Задача требует вызова MCP, внешнего API, документации через MCP → следовать **mcp-tools-subagent**.
- Задача требует планирования, декомпозиции, отслеживания прогресса → использовать **Beads + Ralph**.
- При необходимости можно комбинировать (например, Beads для плана + MCP для выполнения).

## Beads + Ralph — быстрый старт

```bash
# Создать задачу
POST /api/beads/tasks { "title": "...", "description": "..." }

# Создать план из нескольких задач
POST /api/beads/tasks/plan { "plan": [...] }

# Выполнить задачу автономно
POST /api/ralph/execute/:taskId

# Получить сводку
GET /api/beads/summary
```

Beads автоматически связывает задачи с правилами из `.cursor/rules/` и skills из `.cursor/skills/`. Ralph следует этим правилам при выполнении.
